<%= form_tag 'customer_feedback_entry', :html => {:class => 'form-horizontal'} do %>
  <%= hidden_field_tag "lead_id", @lead.id%>
  <div class="col-xs-12">
    <div class="well bs-component">
      <div class="row">
        <div class="col-xs-4">
            <% if @lead.business_unit.name == "Dream One"%>
              <%= image_tag("Dream One - Rajarhat_Logo.png", alt: "" , class: "img-responsive form_logo") %>
            <%elsif @lead.business_unit.name == "Dream Palazzo"%>
              <%= image_tag("dream palazzo.jpeg", alt: "" , class: "img-responsive form_logo") %>
            <%elsif @lead.business_unit.name == "Dream Gurukul"%>
              <%= image_tag("dream_gurukul_logo.png", alt: "" , class: "img-responsive form_logo") %>
            <%end%>
        </div>
        <div class="col-xs-7 form_heading_margin">
          <p class ="form_heading">FEEDBACK FORM</p>
        </div>
      </div>
      <div class="division"></div><br>
      <center style="margin-top: 50px;">
        <p class="form_sub_heading">How likely are you to recommend <%= @lead.business_unit.name%> to friends and relatives?</p>
      </center>
      <div class="row">
        <div class="col-xs-1 col-xs-offset-1">
          <%= radio_button_tag 'rating', '1', nil, :id => "rating1", :class => 'radio_style', data: { rating: '1' } %>
          <label for="rating1" class="rating-label">1</label>
        </div>
        <div class="col-xs-1">
          <%= radio_button_tag 'rating', '2', nil, :id => "rating2", :class => 'radio_style', data: { rating: '2' } %>
          <label for="rating2" class="rating-label">2</label>
        </div>
        <div class="col-xs-1">
          <%= radio_button_tag 'rating', '3', nil, :id => "rating3", :class => 'radio_style', data: { rating: '3' } %>
          <label for="rating3" class="rating-label">3</label>
        </div>
        <div class="col-xs-1">
          <%= radio_button_tag 'rating', '4', nil, :id => "rating4", :class => 'radio_style', data: { rating: '4' } %>
          <label for="rating4" class="rating-label">4</label>
        </div>
        <div class="col-xs-1">
          <%= radio_button_tag 'rating', '5', nil, :id => "rating5", :class => 'radio_style', data: { rating: '5' } %>
          <label for="rating5" class="rating-label">5</label>
        </div>
        <div class="col-xs-1">
          <%= radio_button_tag 'rating', '6', nil, :id => "rating6", :class => 'radio_style', data: { rating: '6' } %>
          <label for="rating6" class="rating-label">6</label>
        </div>
        <div class="col-xs-1">
          <%= radio_button_tag 'rating', '7', nil, :id => "rating7", :class => 'radio_style', data: { rating: '7' } %>
          <label for="rating7" class="rating-label">7</label>
        </div>
        <div class="col-xs-1">
          <%= radio_button_tag 'rating', '8', nil, :id => "rating8", :class => 'radio_style', data: { rating: '8' } %>
          <label for="rating8" class="rating-label">8</label>
        </div>
        <div class="col-xs-1">
          <%= radio_button_tag 'rating', '9', nil, :id => "rating9", :class => 'radio_style', data: { rating: '9' } %>
          <label for="rating9" class="rating-label">9</label>
        </div>
        <div class="col-xs-1">
          <%= radio_button_tag 'rating', '10', nil, :id => "rating10", :class => 'radio_style', data: { rating: '10' } %>
          <label for="rating10" class="rating-label">10</label>
        </div>
      </div><br>
      <div class="row" id="feedback_rating">
        <div class="row">
          <div class="col-xs-12">
            <center><p class="form_sub_heading" id="feedback_data">Please tell us why you gave the above rating?</p></center>
          </div>
        </div><br>
        <div class="row">
          <div class="col-xs-10 col-xs-offset-1" style="margin-top: -41px;">
            <%= text_area_tag "site_visit_feedback", "", :class => 'form-control'%>
          </div>
        </div>
      </div><br>
      <div class="row">
        <center>
          <%= submit_tag "Submit", :class => 'btn', :style => 'background: #27303f; color: #fff; border-left: 21px solid #c8222c;' %>
        </center>
      </div>
    </div>
  </div>
<%end%>
<style>
  body{
    line-height: 1.82857143!important;
  }
  .well{
    background-image: url(../assets/form_background.png);
    border-radius: 0px !important;
/*    border: 5px solid red;*/
    height: 100vh!important;
    background-repeat: no-repeat;
    background-size: cover;
  }
  .division{
    border-bottom: 2px solid darkgrey;
    margin-top: -22px;
    margin-bottom: 5px;
    width: 90%;
  }
  .form-control{
    margin-top: 5px!important;
  }
  .form_logo{
    width: 68%;
  }
  .form_heading{
    color: #000!important;
    font-weight: 600;
    font-size: 22px;
    letter-spacing: 3px;
  }
  .form_sub_heading{
      color: dimgray;
      letter-spacing: 2px;
      font-style: oblique;
      font-weight: 700;
      font-size: 18px;
      padding: 25px;
  }
  .form_heading_margin{
    margin-top: 50px!important;
  }
  #user_nav{
    display: none!important;
  }
  #feedback_rating{
    display: none;
  }
  @media (max-width: 500px){
    .well{
      padding: 10px!important;
      background-image: url(../assets/form_background_mobile.PNG);
      border-radius: 0px !important;
      height: 100vh!important;
      background-repeat: no-repeat;
      background-size: cover;   
    }
    .division{
      margin-top: 0px;
    }
    .col-xs-6{
      width: 100%;
      margin-bottom: 7px;
    }
    .form_logo{
      width: 100%!important;
    }
    .form_heading{
      font-size: 13px;
      letter-spacing: 1px;   
    }
    .form_sub_heading{
      font-size: 13px;
    }
    .form_heading_margin{
      margin-top: 48px!important;
    }
    center{
      margin-top: -25px!important;
    }
    .footer_logo{
      display: none;
    }
    font{
      margin-left: -25px;
    }
    .col-xs-8 {
      width: 71.666667%;
    }
    .radio_button{
      width: 30%;
    }
    .second_line{
      margin-left: 92px;
    }
    label.rating-label {
      width: 30px;
      height: 30px;
      line-height: 30px;
      font-size: 16px;
    }
  }
  label {
      font-weight: bold;
  }
  input[type="radio"] {
    display: none!important;
  }
  label.rating-label {
    display: inline-block;
    width: 35px;
    height: 35px;
    background-color: #f0f0f0;
    text-align: center;
    line-height: 35px;
    border-radius: 70%;
    cursor: pointer;
    margin: 3px;
    font-size: 15px;
  }
  input[type="radio"]:checked + label.rating-label {
    background-color: #3498db;
    color: white;
  }
  textarea.form-control{
    height: 250px;
  }
  .bottom-right-logo {
    position: fixed;
    bottom: 10px;
    right: 10px; 
    z-index: 1000;
  }
</style>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const radioButtons = document.querySelectorAll('input[type="radio"][name="rating"]');  
    radioButtons.forEach(function(radioButton) {
      radioButton.addEventListener('change', function(event) {
        const rating = event.target.value;
        populateRatingReason(rating);
      });
    });
  });

  function populateRatingReason(rating) {
    var ratingReasonElement = document.getElementById('feedback_data');
    document.getElementById('feedback_rating').style.display = 'block';
    ratingReasonElement.innerHTML = "Please tell us why you gave "+rating.toString()+" rating?"
  }
</script>